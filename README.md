# IV-Curve Tracer

Разработано устройство для автоматического снятия вольт-амперных характеристик (ВАХ) фотоэлектрических преобразователей (ФЭП) с полевым транзистором в качестве управляемой электронной нагрузки.

## Hardwire

Функциональная схема устройства автоматического снятия ВАХ солнечного модуля приведена на рисунке:

![Functional scheme](/img/ivc_tracer_func_scheme.jpg)

В качестве переменной электронной нагрузки используется полевой (MOSFET) транзистор, установленный на радиаторе для рассеивания выделяющегося тепла. Цифровой измерительный блок содержит датчики тока и напряжения, аналого-цифровые преобразователи (АЦП), цифро-аналоговый преобразователь (ЦАП) и микроконтроллер.

Напряжение затвор-исток транзистора устанавливается при помощи цифро-аналогового преобразователя. ЦАП обеспечивает изменение сопротивления перехода сток-исток транзистора в широком диапазоне: от практически нуля Ом (точка короткого замыкания) до нескольких МОм (точка холостого хода). При помощи АЦП производится оцифровка данных от датчиков тока и напряжения исследуемого солнечного модуля. Измерение тока производится с помощью интегрального датчика тока ACS712 фирмы Allegro. Для измерения напряжения используется делитель напряжения на двух резисторах.

Управляет процессом автоматического снятия ВАХ – микроконтроллер ATmega16, входящий в состав микроконтроллерного комплекта Pinboard II.

Принципиальная электрическая схема устройства:

![Functional scheme](/img/ivc_tracer_scheme.jpg)

## Firmware

Алгоритм работы микроконтроллера при автоматическом снятии ВАХ следующий: путем установки цифрового кода ЦАП задается начальное сопротивление перехода сток-исток транзистора, при этом изменяются ток и напряжение солнечного модуля в соответствии с его ВАХ. Напряжение и ток измеряются датчиками, сигналы оцифровываются с помощью АЦП и передаются в микроконтроллер, который выполняет вычисления и передает измеренные ток и напряжение на компьютер через преобразователь интерфейсов UART-USB. Затем значение ЦАП увеличивается на заданный шаг и процесс повторяется, пока не будет достигнуто конечное значение ЦАП. Начальное, конечное значение и шаг ЦАП задаются в меню настройки на жидкокристаллическом дисплее путем поворота ручки энкодера, а также через управляющую программу с компьютера.

Также доступен ручной режим снятия ВАХ. Текущие значения ЦАП устанавливаются путем поворота ручки энкодера, измеренные значения тока и напряжения отображаются на жидкокристаллическом дисплее.


## Links

1. [Зиновьев В.В., Бартенев О.А. Устройство автоматического снятия вольт-амперных характеристик фотоэлектрических преобразователей](http://f-ing.udsu.ru/files/fajly-dlya-elektronnogo-zhurnala/000572-7_2_4_19_%D0%91%D0%B0%D1%80%D1%82%D0%B5%D0%BD%D0%B5%D0%B2.pdf)